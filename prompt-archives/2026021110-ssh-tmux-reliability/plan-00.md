# 计划：SSH 连接 tmux 可用性与可诊断性修复

## 背景

- 当前通过 tmex 使用 SSH Agent 连接远端 tmux 仍失败。
- 前端错误提示过于粗糙，用户感知为“无论什么错误都像认证失败”。
- SSH 连接阶段日志不足，难以快速定位失败点。

## 注意事项

- 先保障主路径可用（host + username + authMode）。
- `sshConfigRef` 本次不实现解析，必须显式报错并给替代指引。
- 保持变更聚焦，不做无关重构。

## 实施步骤

1. 增强 gateway SSH 连接阶段日志，输出可排障但不泄漏敏感数据。
2. 扩展后端错误分类，区分认证、agent、网络、tmux 等失败类型。
3. 对 `configRef` 增加显式未实现错误，避免误导性认证失败。
4. 前端处理 `event/device` 时优先展示 `rawMessage`，并修复旧错误残留。
5. 增加独立运行的本机 SSH Agent 连通集成测试（当前用户@127.0.0.1:22）。
6. 补充/更新单测并跑 gateway 测试，记录结果。

